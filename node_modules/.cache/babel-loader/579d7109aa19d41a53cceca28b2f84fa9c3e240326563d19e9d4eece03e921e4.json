{"ast":null,"code":"import _regeneratorRuntime from\"/Users/romansehovcev/Documents/GitHub/test-project-sapsan/work-test-sapsan/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/romansehovcev/Documents/GitHub/test-project-sapsan/work-test-sapsan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{ImagesActionTypes}from\"../../types/images\";export var getFetchImagesAction=function getFetchImagesAction(title,page){console.log('fetch');return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:ImagesActionTypes.LOADING_IMAGES});_context.next=4;return axios.get('https://api.unsplash.com/search/photos?',{params:{client_id:'Ip0XA55zY7b7-d19osq1L5btGg-YCeDZVpnnJjXqHxs',query:title,// rel: 'first',\npage:page,per_page:'20',lang:'ru'}});case 4:response=_context.sent;// setTimeout( () => {\ndispatch({type:ImagesActionTypes.GET_IMAGES,payload:response.data.results});// }, 1000)\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getFetchMoreImagesAction=function getFetchMoreImagesAction(title,page){console.log('fetch');return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:ImagesActionTypes.LOADING_IMAGES});_context2.next=4;return axios.get('https://api.unsplash.com/search/photos?',{params:{client_id:'Ip0XA55zY7b7-d19osq1L5btGg-YCeDZVpnnJjXqHxs',query:title,per_page:'20',lang:'ru',page:page,rel:'next'}});case 4:response=_context2.sent;// setTimeout( () => {\ndispatch({type:ImagesActionTypes.GET_MORE_IMAGES,payload:response.data.results});// }, 1000)\n_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.message);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","ImagesActionTypes","getFetchImagesAction","title","page","console","log","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","wrap","_callee$","_context","prev","next","type","LOADING_IMAGES","get","params","client_id","query","per_page","lang","sent","GET_IMAGES","payload","data","results","t0","message","stop","_x","apply","arguments","getFetchMoreImagesAction","_ref2","_callee2","_callee2$","_context2","rel","GET_MORE_IMAGES","_x2"],"sources":["/Users/romansehovcev/Documents/GitHub/test-project-sapsan/work-test-sapsan/src/redux/action-creators/async-actions.ts"],"sourcesContent":["import axios from \"axios\"\nimport { Dispatch } from \"react\"\nimport { ImagesActions, ImagesActionTypes } from \"../../types/images\"\n\nexport const getFetchImagesAction = (title: string, page: number) => {\n    console.log('fetch');\n    \n    return async (dispatch: Dispatch<ImagesActions>) => {\n        try {\n            dispatch({type: ImagesActionTypes.LOADING_IMAGES})\n            const response = await axios.get('https://api.unsplash.com/search/photos?', {\n                params: {\n                    client_id: 'Ip0XA55zY7b7-d19osq1L5btGg-YCeDZVpnnJjXqHxs',\n                    query: title,\n                    // rel: 'first',\n                    page: page,\n                    per_page: '20',\n                    lang: 'ru',\n                }\n            })\n            // setTimeout( () => {\n                dispatch({type: ImagesActionTypes.GET_IMAGES, payload: response.data.results})\n            // }, 1000)\n            \n        } catch (e: any){\n            console.log(e.message);\n        }\n    }\n}\n\nexport const getFetchMoreImagesAction = (title: string, page: number) => {   \n    console.log('fetch');\n\n    return async (dispatch: Dispatch<ImagesActions>) => {\n        try {\n            dispatch({type: ImagesActionTypes.LOADING_IMAGES})\n            const response = await axios.get('https://api.unsplash.com/search/photos?', {\n                params: {\n                    client_id: 'Ip0XA55zY7b7-d19osq1L5btGg-YCeDZVpnnJjXqHxs',\n                    query: title,\n                    per_page: '20',\n                    lang: 'ru',\n                    page: page,\n                    rel: 'next',\n                }\n            })  \n            \n            \n            // setTimeout( () => {\n                dispatch({type: ImagesActionTypes.GET_MORE_IMAGES, payload: response.data.results})\n            // }, 1000)\n            \n        } catch (e: any){\n            console.log(e.message);\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}